{% extends "core/base.html"%}

{% load static %}

{% block title %}Inscription Parent/Elève{% endblock %}

{% block content %} 
    

<section class="py-5">
    <div class="py-5">
        <div class="container border border-light rounded bg-white shadow-lg">
            <div class="row">
                <div class="col-lg-6">
                    <div class="pb-lg-4 pt-lg-3">
                        <h1 class="text-center">Création de compte</h1>
                        <p class="text-center">Lorem ipsum dolor sit amet consectetur adipisicing, elit</p>
                    </div>
                    {% if registered %}
                        <h2>Vous êtes déja enregistré</h2>
                    {% endif %}

                     <form method="POST" action="#" class="px-3">
                        {% csrf_token %}

                        <h3 class="text-center">Vos informations personnelles</h3>

                        <div class="col-auto my-1">
                            <label>Civilité &emsp;</label>
                            {{form2.civilite}}
                        </div>
                         <div class="col-auto my-1 mt-2 mb-3">
                            {{form2.langue}}
                         </div>
                        <div class="form-group">
                            {{form1.last_name}}
                        </div>
                        <div class="form-group">
                            {{form1.first_name}}
                        </div>
                        <div class="form-group">
                            <label>Votre âge (ans) &emsp;</label>
                            {{form2.age}}
                        </div>
                        <div class="form-group">
                            {{form2.telephone}}
                        </div>
                        <div class="form-group">
                            <em class="text-danger">{{form.email.errors}}</em>
                            {{form1.email}}
                        </div>
                        <div class="form-group">
                            <label>Vous êtes un &emsp;</label>
                            {{form2.type_user}}
                        </div>
                        <div class="form-group">
                            <label>Photo de Profil</label>
                            {{form2.photoProfil}}
                        </div>
                        <h3 class="text-center">Vos informations de connexion</h3>

                        <div class="form-group">
                            {{form1.username}}
                        </div>
                        <div class="form-group">
                            <em class="text-danger">{{form.password.errors}}</em>
                            {{form1.password1}}
                        </div>
                        <div class="form-group">
                            <em class="text-danger">{{form.password.errors}}</em>
                            {{form1.password2}}
                        </div>
                        {{err1}}
                        {{err2}}
                        <div class="d-flex justify-content-center my-5">
                            <input class="border border-white rounded-pill py-2 px-3 text-white" type="submit" value="enregistrer" style="background-color: orange;">
                        </div>
                        <p>Vous avez déja un compte ? <a href="{% url 'connexionClient' %}">Se connecter</a></p>
                    </form>
                    </div>
                    <div class="col-lg-6">
                        <div class="d-flex justify-content-center">
                        <figure><img class="img-fluid" src="{% static 'core/images/signup-image.jpg' %}" alt="sing up image"></figure>
                        <a href="#" class="signup-image-link"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

    <script>
		/* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
		    //We start indexing at one because CSRF_token is considered and input field
		*/

		//Query All input fields
		var form_fields = document.getElementsByTagName('input')
		form_fields[1].placeholder='Entrez votre nom..';
		form_fields[2].placeholder='Entrez votre prénom..';
		form_fields[3].placeholder='Votre âge...';
		form_fields[4].placeholder='Entrez votre numéro de téléphone...';
		form_fields[5].placeholder='Entrez votre adresse mail...';
		form_fields[7].placeholder="Nom d'utilisateur...";
		form_fields[8].placeholder='Créez un mot de passe...';
		form_fields[9].placeholder='Ratapez le mot de passe...';

		for (var field in form_fields){
			form_fields[field].className += ' form-control'
		}

	</script>

{% endblock %}